WEBVTT

1
00:00:00.429 --> 00:00:03.012
(upbeat music)

2
00:00:07.580 --> 00:00:08.413
<v Wes>Alright,</v>

3
00:00:08.413 --> 00:00:09.500
we're pretty much done with our application.

4
00:00:09.500 --> 00:00:11.440
Now let's talk about how we actually build this sucker

5
00:00:11.440 --> 00:00:13.410
for production, and how you can get it

6
00:00:13.410 --> 00:00:16.050
on a number of different hosting platforms.

7
00:00:16.050 --> 00:00:18.160
So the way to build it is actually pretty simple,

8
00:00:18.160 --> 00:00:20.270
you just wanna kill what you currently are running,

9
00:00:20.270 --> 00:00:23.160
so control-C, and let's actually show you real quick.

10
00:00:23.160 --> 00:00:25.240
If we open up our package.json,

11
00:00:25.240 --> 00:00:27.620
remember we have this build command here.

12
00:00:27.620 --> 00:00:30.240
And it just runs react-scripts build.

13
00:00:30.240 --> 00:00:32.860
I'm gonna show you what eject is in a minute as well.

14
00:00:32.860 --> 00:00:35.800
So just run npm run build,

15
00:00:35.800 --> 00:00:39.000
and if we open up the folder that we are currently in,

16
00:00:39.000 --> 00:00:41.570
it's going to make a folder called build and,

17
00:00:41.570 --> 00:00:42.530
what this is doing,

18
00:00:42.530 --> 00:00:44.300
I'll explain it while it's actually building, is,

19
00:00:44.300 --> 00:00:48.620
it's going to take all of our files, all of our CSS,

20
00:00:48.620 --> 00:00:51.560
and all of the JavaScript we have written and compile it

21
00:00:51.560 --> 00:00:55.210
into one tiny little JavaScript file

22
00:00:55.210 --> 00:00:57.210
that has stripped out any of the,

23
00:00:57.210 --> 00:00:58.490
it strips out all the warnings,

24
00:00:58.490 --> 00:01:00.900
it strips out all the prop type stuff.

25
00:01:00.900 --> 00:01:02.690
That was all just for development,

26
00:01:02.690 --> 00:01:04.540
and then, when we deploy to production,

27
00:01:04.540 --> 00:01:07.730
we want a very small .js file.

28
00:01:07.730 --> 00:01:11.080
So if I open this sucker up right now,

29
00:01:11.080 --> 00:01:13.490
you'll see that we have a build folder.

30
00:01:13.490 --> 00:01:17.250
And inside of that build folder, you are seeing that

31
00:01:17.250 --> 00:01:21.170
we've got an images folder, an index.html,

32
00:01:21.170 --> 00:01:22.490
it by default will give you

33
00:01:22.490 --> 00:01:24.750
a whole bunch of servers worker stuff, which is great.

34
00:01:24.750 --> 00:01:27.690
It'll try to make it work offline, which I really like.

35
00:01:27.690 --> 00:01:32.180
And then, inside of our static file, there is a js file,

36
00:01:32.180 --> 00:01:35.160
which, that is our entire application here.

37
00:01:35.160 --> 00:01:37.070
And then there is a map file,

38
00:01:37.070 --> 00:01:38.440
and that's what's called a source map.

39
00:01:38.440 --> 00:01:40.930
So if there are any actual errors,

40
00:01:40.930 --> 00:01:44.230
then that will point back to where the errors are.

41
00:01:44.230 --> 00:01:45.890
And that is a fairly large file,

42
00:01:45.890 --> 00:01:48.170
but your users do not load that,

43
00:01:48.170 --> 00:01:50.370
only developers will load that.

44
00:01:50.370 --> 00:01:53.140
It looks like it's about 4.1 megs for me right now.

45
00:01:53.140 --> 00:01:55.620
And some services won't allow you to upload a file that big,

46
00:01:55.620 --> 00:01:56.453
and that's totally fine,

47
00:01:56.453 --> 00:01:58.030
you don't necessarily need that for production.

48
00:01:58.030 --> 00:01:59.250
That's more of a development thing.

49
00:01:59.250 --> 00:02:02.599
But if you do have errors in production,

50
00:02:02.599 --> 00:02:07.530
it's nice to be able to know that the error is not in this

51
00:02:07.530 --> 00:02:10.130
mumbled, jumbled, uglified thing.

52
00:02:10.130 --> 00:02:12.810
It's in, this will tell you exactly where

53
00:02:12.810 --> 00:02:15.260
the errors are coming from in your source files.

54
00:02:15.260 --> 00:02:16.900
And it's going to give us a media folder,

55
00:02:16.900 --> 00:02:18.029
and inside of that media folder,

56
00:02:18.029 --> 00:02:20.330
we've got our anchor that we use,

57
00:02:20.330 --> 00:02:22.600
we've got the font that it used,

58
00:02:22.600 --> 00:02:24.740
and that's pretty much it.

59
00:02:24.740 --> 00:02:28.780
And then in our CSS, it will kick out the .css file.

60
00:02:28.780 --> 00:02:32.110
And again, that's Webpack taking in that imported CSS

61
00:02:32.110 --> 00:02:35.520
and kicking it out to an external .css file.

62
00:02:35.520 --> 00:02:38.020
And then this index.html is going to point

63
00:02:38.020 --> 00:02:40.130
to all of these things, good.

64
00:02:40.130 --> 00:02:43.670
So, this is a, almost, a static site.

65
00:02:43.670 --> 00:02:46.250
And that will allow us to drag and drop that sucker

66
00:02:46.250 --> 00:02:50.060
up on any of the different hosting services we have.

67
00:02:50.060 --> 00:02:51.900
The only thing that we need to know is,

68
00:02:51.900 --> 00:02:53.870
if I were to try to open that up,

69
00:02:53.870 --> 00:02:55.349
you'll see that it doesn't work

70
00:02:55.349 --> 00:02:57.720
and it gives us some errors.

71
00:02:57.720 --> 00:02:59.900
And that's because this still needs to be run

72
00:02:59.900 --> 00:03:02.820
through a server, and the most important part is that,

73
00:03:02.820 --> 00:03:05.440
because when I'm on these URLs right here,

74
00:03:05.440 --> 00:03:07.430
the server needs to be smart enough

75
00:03:07.430 --> 00:03:10.410
to not look into a folder called store

76
00:03:10.410 --> 00:03:13.580
and a folder called elegant thoughtless diagnoses.

77
00:03:13.580 --> 00:03:18.330
It should tell us, okay, regardless of what the URL is,

78
00:03:18.330 --> 00:03:23.330
send everybody right back to this index.html file.

79
00:03:23.420 --> 00:03:26.370
And then we're going to have to figure out the routing

80
00:03:26.370 --> 00:03:28.550
on the client side, via React router.

81
00:03:28.550 --> 00:03:30.110
So over the next couple of videos,

82
00:03:30.110 --> 00:03:31.080
I'm gonna show you how to deploy it

83
00:03:31.080 --> 00:03:33.880
to some of the more popular hosting platforms right now.


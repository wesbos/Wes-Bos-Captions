WEBVTT

1
00:00:03.329 --> 00:00:05.880
<v Child>Show me buttons that I can press.</v>

2
00:00:05.880 --> 00:00:07.512
<v Instructor>Buttons that you can press?</v>

3
00:00:07.512 --> 00:00:08.345
<v Child>Yeah.</v>

4
00:00:08.345 --> 00:00:11.370
<v Instructor>Oh, like on the keyboard?</v>

5
00:00:11.370 --> 00:00:12.520
Here.
<v ->Yeah.</v>

6
00:00:12.520 --> 00:00:13.353
<v ->You type in.</v>

7
00:00:15.010 --> 00:00:16.870
N, good one!

8
00:00:16.870 --> 00:00:17.980
Can you spell your name?

9
00:00:17.980 --> 00:00:20.403
<v Child>Um, P?</v>

10
00:00:21.648 --> 00:00:23.995
<v Instructor>Yeah.</v>

11
00:00:23.995 --> 00:00:24.995
<v Child>F.</v>

12
00:00:28.840 --> 00:00:29.993
<v Instructor>P-Y.</v>

13
00:00:31.810 --> 00:00:32.643
What else?

14
00:00:34.359 --> 00:00:38.175
(child hissing gently)

15
00:00:38.175 --> 00:00:39.725
(key tapping)

16
00:00:39.725 --> 00:00:40.725
<v Child>O!</v>

17
00:00:41.715 --> 00:00:42.786
<v Instructor>Pyopim?</v>

18
00:00:42.786 --> 00:00:43.619
<v Child>P! (giggles)</v>

19
00:00:43.619 --> 00:00:44.452
<v Instructor>P.</v>

20
00:00:44.452 --> 00:00:46.543
Pyop, is that you name?

21
00:00:46.543 --> 00:00:47.376
<v Child>No!</v>

22
00:00:47.376 --> 00:00:48.472
<v Instructor>Pyop?</v>

23
00:00:48.472 --> 00:00:51.900
<v ->(giggling) No.</v>
<v ->No?</v>

24
00:00:51.900 --> 00:00:53.933
<v Child>I, I wanna press that one.</v>

25
00:00:53.933 --> 00:00:54.882
<v Instructor>All Right, you press that one</v>

26
00:00:54.882 --> 00:00:55.980
and then you go back down to mum, okay?

27
00:00:55.980 --> 00:00:57.540
<v Child>No.</v>

28
00:00:57.540 --> 00:00:59.240
<v Instructor>Do it.</v>

29
00:00:59.240 --> 00:01:01.040
<v Child>I don't wanna go back down.</v>

30
00:01:01.040 --> 00:01:02.870
<v Instructor>Why not?</v>

31
00:01:02.870 --> 00:01:04.620
<v Child>Because this office is much more fun.</v>

32
00:01:04.620 --> 00:01:07.181
<v Instructor>It is so much fun, isn't it?</v>

33
00:01:07.181 --> 00:01:09.692
(gentle clanking)

34
00:01:09.692 --> 00:01:10.688
What's that?

35
00:01:10.688 --> 00:01:11.521
<v Child>A phone.</v>

36
00:01:11.521 --> 00:01:12.880
<v Instructor>A phone!</v>

37
00:01:12.880 --> 00:01:14.223
It's not a phone.

38
00:01:15.172 --> 00:01:16.460
(child laughing)
All right.

39
00:01:16.460 --> 00:01:18.650
All right, you stinker, get outta here.

40
00:01:18.650 --> 00:01:19.630
<v Child>No.</v>

41
00:01:19.630 --> 00:01:21.420
<v Instructor>All right, so when we go from page to page</v>

42
00:01:21.420 --> 00:01:22.510
you click on one of these links.

43
00:01:22.510 --> 00:01:23.650
It's like instant for us.

44
00:01:23.650 --> 00:01:24.700
It's because we're local.

45
00:01:24.700 --> 00:01:26.770
We're just, we're just loading a piece of text.

46
00:01:26.770 --> 00:01:27.700
It's very fast.

47
00:01:27.700 --> 00:01:30.100
But what happens is, if your site does get slow

48
00:01:30.100 --> 00:01:32.800
whether it's slow internet connection,

49
00:01:32.800 --> 00:01:33.830
you're on the subway,

50
00:01:33.830 --> 00:01:37.040
or you just have, for some reason,

51
00:01:37.040 --> 00:01:38.270
your database call is slow,

52
00:01:38.270 --> 00:01:39.940
for whatever reason,

53
00:01:39.940 --> 00:01:42.670
the user needs to know that something is happening.

54
00:01:42.670 --> 00:01:43.503
So what we're going to do

55
00:01:43.503 --> 00:01:45.720
is we're going to implement this NProgress

56
00:01:45.720 --> 00:01:48.430
where, when you click on one of the URLs,

57
00:01:48.430 --> 00:01:50.660
see this fancy little woooo

58
00:01:50.660 --> 00:01:52.070
right across the top?

59
00:01:52.070 --> 00:01:54.040
That's what we're gonna do.

60
00:01:54.040 --> 00:01:57.547
And that is a package called NProgress.

61
00:01:58.460 --> 00:02:01.410
And we're going to go into our _app.JS

62
00:02:02.640 --> 00:02:04.870
and we're going to implement it.

63
00:02:04.870 --> 00:02:06.360
So, first thing that we need to do

64
00:02:06.360 --> 00:02:10.200
is to import the styles for NProgress.

65
00:02:10.200 --> 00:02:12.091
So, import

66
00:02:12.091 --> 00:02:13.700
and NProgress, the package,

67
00:02:13.700 --> 00:02:15.200
ships all the styles for you.

68
00:02:15.200 --> 00:02:18.738
So you just import nprogress/

69
00:02:18.738 --> 00:02:21.660
nprogress.CSS.

70
00:02:21.660 --> 00:02:22.820
And then I'm going to,

71
00:02:22.820 --> 00:02:26.670
let's just put a little to do, swap with our own,

72
00:02:26.670 --> 00:02:29.230
just so I can show you how to load your own CSS

73
00:02:29.230 --> 00:02:31.783
or load it from the package as it's installed.

74
00:02:33.010 --> 00:02:36.200
Now, that is going to immediately break.

75
00:02:36.200 --> 00:02:39.350
Error not caught type parent node anchor element.

76
00:02:39.350 --> 00:02:41.250
And you might, if it broke for you,

77
00:02:41.250 --> 00:02:42.560
the reason behind that is

78
00:02:42.560 --> 00:02:46.520
because we haven't gone into our document.JS yet.

79
00:02:46.520 --> 00:02:48.740
And remember I commented this out.

80
00:02:48.740 --> 00:02:50.130
Let's just put it, put it in there.

81
00:02:50.130 --> 00:02:52.980
I should have put it in there in the first place.

82
00:02:52.980 --> 00:02:54.650
We're going to be doing some custom stuff

83
00:02:54.650 --> 00:02:56.900
with CSS in just a second.

84
00:02:56.900 --> 00:02:59.430
Now I believe if we refresh the page, there we go.

85
00:02:59.430 --> 00:03:01.540
Now it's looking much better for us.

86
00:03:01.540 --> 00:03:02.910
Also, this warning?

87
00:03:02.910 --> 00:03:03.743
Don't worry about that.

88
00:03:03.743 --> 00:03:06.163
We're gonna fix that in the next video as well.

89
00:03:07.780 --> 00:03:11.340
Next, what we need to do is to import our NProgress.

90
00:03:11.340 --> 00:03:13.953
So we'll import N,

91
00:03:15.740 --> 00:03:16.573
P.

92
00:03:16.573 --> 00:03:18.283
Capital N, capital P, progress.

93
00:03:20.795 --> 00:03:22.045
From nprogress.

94
00:03:23.100 --> 00:03:23.953
I have a little,

95
00:03:25.540 --> 00:03:27.050
I have a little text expander snippet

96
00:03:27.050 --> 00:03:29.010
that will automatically lowercase that for me,

97
00:03:29.010 --> 00:03:31.050
because I always type things like,

98
00:03:31.050 --> 00:03:33.900
Hey, hey, like that, see?

99
00:03:33.900 --> 00:03:35.600
So if I do two capitals in a row,

100
00:03:35.600 --> 00:03:36.433
it'll fix it for me.

101
00:03:36.433 --> 00:03:37.980
But in this case, I need that.

102
00:03:37.980 --> 00:03:39.130
Okay.

103
00:03:39.130 --> 00:03:43.930
Then NProgress itself has just a couple of values.

104
00:03:43.930 --> 00:03:44.897
Let's actually search for it.

105
00:03:44.897 --> 00:03:46.043
Let me show you.

106
00:03:51.610 --> 00:03:54.040
It can start, doo.

107
00:03:54.040 --> 00:03:56.620
It can be set to a certain amount.

108
00:03:56.620 --> 00:03:58.440
It can be incremented.

109
00:03:58.440 --> 00:04:00.390
And then finally it can be finished.

110
00:04:00.390 --> 00:04:01.480
So what we're gonna be doing

111
00:04:01.480 --> 00:04:04.210
is we're gonna start it as soon as a link starts

112
00:04:04.210 --> 00:04:08.480
and finish it when the page transition is done.

113
00:04:08.480 --> 00:04:10.930
So we'll go into our app.JS,

114
00:04:10.930 --> 00:04:14.070
and we need to import the router from next.JS,

115
00:04:14.070 --> 00:04:17.440
so that we can hook into a couple events that they have.

116
00:04:17.440 --> 00:04:20.360
So, we'll import capital R, Router

117
00:04:20.360 --> 00:04:23.700
from its next/router.

118
00:04:23.700 --> 00:04:24.533
Okay?

119
00:04:24.533 --> 00:04:26.170
And then we will take that router,

120
00:04:26.170 --> 00:04:29.970
capital R, Router.events.on

121
00:04:29.970 --> 00:04:34.930
and we are going to listen for the route change start event.

122
00:04:34.930 --> 00:04:36.070
And when that happens,

123
00:04:36.070 --> 00:04:38.630
we're going to run a little arrow callback function

124
00:04:38.630 --> 00:04:42.350
that is NProgress.start.

125
00:04:42.350 --> 00:04:44.453
Okay, let's let's just start there.

126
00:04:46.750 --> 00:04:47.900
So, Router.events,

127
00:04:47.900 --> 00:04:50.372
when it starts, it starts the NProgress.

128
00:04:50.372 --> 00:04:53.683
So let's try it now on our own website here.

129
00:04:54.570 --> 00:04:55.403
See?

130
00:04:55.403 --> 00:04:57.353
See how it's like, it's going?

131
00:04:58.240 --> 00:04:59.980
Load, load load.

132
00:04:59.980 --> 00:05:02.280
Then what we need to do is duplicate that line

133
00:05:03.390 --> 00:05:08.030
and we're going to listen to the route change complete

134
00:05:08.880 --> 00:05:12.050
and we're gonna be NProgress.done.

135
00:05:12.050 --> 00:05:14.750
And then duplicate that line one more time,

136
00:05:14.750 --> 00:05:17.720
and we're going to say route change error,

137
00:05:17.720 --> 00:05:19.600
just in case there is an error,

138
00:05:19.600 --> 00:05:21.720
then we gotta turn it off as well.

139
00:05:21.720 --> 00:05:22.700
So now watch this.

140
00:05:22.700 --> 00:05:24.650
When I go from page to page,

141
00:05:24.650 --> 00:05:26.274
you see how it goes nice and quickly?

142
00:05:26.274 --> 00:05:28.320
(imitates laser zapping)

143
00:05:28.320 --> 00:05:29.840
Finally, let's swap that out

144
00:05:29.840 --> 00:05:32.100
with our own custom NProgress CSS.

145
00:05:32.100 --> 00:05:34.600
I have put it in the styles folder.

146
00:05:34.600 --> 00:05:36.380
It's not really a component.

147
00:05:36.380 --> 00:05:38.083 line:15% 
It's just a .CSS file.

148
00:05:39.360 --> 00:05:42.580 line:15% 
And what we'll do is, we will swap that out.

149
00:05:42.580 --> 00:05:43.773
We'll say import.

150
00:05:46.230 --> 00:05:47.880
Go up a level into components

151
00:05:47.880 --> 00:05:52.278
into styles and grab NProgress.CSS.

152
00:05:52.278 --> 00:05:53.883
And we get rid of this old one.

153
00:05:55.920 --> 00:05:57.160
Now I go from page to page.

154
00:05:57.160 --> 00:05:59.280
You see, I get that nice thick red one.

155
00:05:59.280 --> 00:06:01.010
Looks a little bit nicer with our page.

156
00:06:01.010 --> 00:06:02.170
So that is it.

157
00:06:02.170 --> 00:06:03.830
That's a really good use case

158
00:06:03.830 --> 00:06:05.570
because very rarely

159
00:06:05.570 --> 00:06:07.780
do we actually need to hook into the router

160
00:06:07.780 --> 00:06:10.120
unless we want to either listen for events

161
00:06:10.120 --> 00:06:12.710
or programmatically change the page.

162
00:06:12.710 --> 00:06:15.010
We will be doing both of those

163
00:06:15.010 --> 00:06:16.520
once, like once you buy something,

164
00:06:16.520 --> 00:06:18.050
and we change the page to the order page.

165
00:06:18.050 --> 00:06:21.353
But that is how we implement NProgress in next.JS.

